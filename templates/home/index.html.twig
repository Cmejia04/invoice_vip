{% extends 'base.html.twig' %}

{% block title %}Home{% endblock %}
{% block stylesheets %}
    {{ parent() }}
    <style>
        body {
            padding-top: 54px;
        }

        @media (min-width: 992px) {
            body {
                padding-top: 56px;
            }
        }

        .carousel-item {
            height: 65vh;
            min-height: 300px;
            background: no-repeat center center scroll;
            -webkit-background-size: cover;
            -moz-background-size: cover;
            -o-background-size: cover;
            background-size: cover;
        }

        .carousel-caption {
            color: #000 !important;
        }
        
        .carousel-indicators {
            color: #797795;
        }

        .portfolio-item {
            margin-bottom: 30px;
        }
    </style>
{% endblock %}
{% block header %}
    <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
        <ol class="carousel-indicators">
            <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
        </ol>
        <div class="carousel-inner" role="listbox">
            <div class="carousel-item active" style="background-image: url('{{ asset('build/image/banner.jpg') }}')">
                <div class="carousel-caption d-none d-md-block">
                    <h3>Regresa el mayor concurso de ventas que te reconoce como VIP</h3>
                    <p>
                        Desde el 1 de agosto de 2018 hasta el 31 de enero de 2019, tus ventas de las categorías de los productos HPI aplican
                        <br> para convertirte en uno de los mejores vendedores del año.
                    </p>
                    <a href="{{ path('invoice.new') }}" class="btn btn-primary">Agregar factura</a>
                    <a href="{{ path('invoice.list') }}" class="btn btn-primary">Mis facturas</a>
                </div>
            </div>
        </div>
    </div>
{% endblock %}
{% block content %}
    <h1 class="my-4">Bienvenido a INVOICE VIP</h1>

    <div class="row">
        <div class="col-lg-4 col-sm-6 portfolio-item">
            <div class="card h-100">
                <a href="#"><img class="card-img-top" src="{{ asset('build/image/box1.jpg') }}" alt=""></a>
                <div class="card-body">
                    <h4 class="card-title">
                        <a href="#">Vende y Registra</a>
                    </h4>
                    <p class="card-text">
                        Identifica las categorías de los productos en tus facturas:
                        <ul>
                            <li>Cómputo Comercial</li>
                            <li>Servicios / Care Packs</li>
                            <li>Productos de Impresión A3</li>
                            <li>Consumibles</li>
                            <li>Impresoras y Multifuncionales HP LaserJet</li>
                            <li>y PageWide Pro, Enterprise & Managed</li>
                        </ul>
                    </p>
                </div>
            </div>
        </div>
        <div class="col-lg-4 col-sm-6 portfolio-item">
            <div class="card h-100">
                <a href="#"><img class="card-img-top" src="{{ asset('build/image/box2.jpg') }}" alt=""></a>
                <div class="card-body">
                    <h4 class="card-title">
                        <a href="#">Enfoca tus Ventas</a>
                    </h4>
                    <p class="card-text">
                        Mantente atento e identifica los productos que te harán ganar este viaje.
                    </p>
                </div>
            </div>
        </div>
        <div class="col-lg-4 col-sm-6 portfolio-item">
            <div class="card h-100">
                <a href="#"><img class="card-img-top" src="{{ asset('build/image/box3.jpg') }}" alt=""></a>
                <div class="card-body">
                    <h4 class="card-title">
                        <a href="#">Registra y Gana</a>
                    </h4>
                    <p class="card-text">
                        Acumula montos dobles y disfruta de un viaje especial...
                        <br><br>
                        Con el concurso anual de ventas para canales, dónde buscamos compensarte por tus ventas y esfuerzo llevándote a la playa de Acapulco.
                        <br><br>
                        Los 60 vendedores con mayor número de ventas registradas serán los ganadores del viaje especial.
                    </p>
                </div>
            </div>
        </div>
    </div>

{% endblock %}
{% block javascripts %}
    {{ parent() }}
    <script>
        $(function() {

            $("#contactForm input,#contactForm textarea").jqBootstrapValidation({
                preventSubmit: true,
                submitError: function($form, event, errors) {
                    // additional error messages or events
                },
                submitSuccess: function($form, event) {
                    event.preventDefault(); // prevent default submit behaviour
                    // get values from FORM
                    var name = $("input#name").val();
                    var email = $("input#email").val();
                    var phone = $("input#phone").val();
                    var message = $("textarea#message").val();
                    var firstName = name; // For Success/Failure Message
                    // Check for white space in name for Success/Fail message
                    if (firstName.indexOf(' ') >= 0) {
                        firstName = name.split(' ').slice(0, -1).join(' ');
                    }
                    $this = $("#sendMessageButton");
                    $this.prop("disabled", true); // Disable submit button until AJAX call is complete to prevent duplicate messages
                    $.ajax({
                        url: "././mail/contact_me.php",
                        type: "POST",
                        data: {
                            name: name,
                            phone: phone,
                            email: email,
                            message: message
                        },
                        cache: false,
                        success: function() {
                            // Success message
                            $('#success').html("<div class='alert alert-success'>");
                            $('#success > .alert-success').html("<button type='button' class='close' data-dismiss='alert' aria-hidden='true'>&times;")
                                .append("</button>");
                            $('#success > .alert-success')
                                .append("<strong>Your message has been sent. </strong>");
                            $('#success > .alert-success')
                                .append('</div>');
                            //clear all fields
                            $('#contactForm').trigger("reset");
                        },
                        error: function() {
                            // Fail message
                            $('#success').html("<div class='alert alert-danger'>");
                            $('#success > .alert-danger').html("<button type='button' class='close' data-dismiss='alert' aria-hidden='true'>&times;")
                                .append("</button>");
                            $('#success > .alert-danger').append($("<strong>").text("Sorry " + firstName + ", it seems that my mail server is not responding. Please try again later!"));
                            $('#success > .alert-danger').append('</div>');
                            //clear all fields
                            $('#contactForm').trigger("reset");
                        },
                        complete: function() {
                            setTimeout(function() {
                                $this.prop("disabled", false); // Re-enable submit button when AJAX call is complete
                            }, 1000);
                        }
                    });
                },
                filter: function() {
                    return $(this).is(":visible");
                },
            });

            $("a[data-toggle=\"tab\"]").click(function(e) {
                e.preventDefault();
                $(this).tab("show");
            });
        });

        /*When clicking on Full hide fail/success boxes */
        $('#name').focus(function() {
            $('#success').html('');
        });
    </script>
{% endblock %}